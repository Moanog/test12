(this["webpackJsonpcandy-machine-mint"]=this["webpackJsonpcandy-machine-mint"]||[]).push([[0],{150:function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return f})),t.d(n,"c",(function(){return g})),t.d(n,"d",(function(){return v}));var c=t(2),r=t.n(c),a=t(5),s=t(44),i=t(90),o=new s.d.PublicKey("cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ"),u=new s.d.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),l=new s.d.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),d=function(){var e=Object(a.a)(r.a.mark((function e(n,t,c){var s,i,o,u,l,d=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:"recent",i=d.length>4&&void 0!==d[4]&&d[4],o=!1,u={slot:0,confirmations:0,err:null},l=0,e.next=7,new Promise(function(){var e=Object(a.a)(r.a.mark((function e(d,b){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){o||(o=!0,console.log("Rejecting for timeout..."),b({timeout:!0}))}),t);try{l=c.onSignature(n,(function(e,n){o=!0,u={err:e.err,slot:n.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),b(u)):(console.log("Resolved via websocket",e),d(u))}),s)}catch(f){o=!0,console.error("WS error in setup",n,f)}case 2:if(o||!i){e.next=8;break}return Object(a.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.getSignatureStatuses([n]);case 3:t=e.sent,u=t&&t.value[0],o||(u?u.err?(console.log("REST error for",n,u),o=!0,b(u.err)):u.confirmations?(console.log("REST confirmation for",n,u),o=!0,d(u)):console.log("REST no confirmations for",n,u):console.log("REST null result for",n,u)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o||console.log("REST connection error: txid",n,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,O(2e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}());case 7:return u=e.sent,c._signatureSubscriptions[l]&&c.removeSignatureListener(l),o=!0,console.log("Returning status",u),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(n,t,c){return e.apply(this,arguments)}}(),b=function(n,t,c,r){var a=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:s.d.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:i.b,isSigner:!1,isWritable:!1},{pubkey:s.d.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new s.d.TransactionInstruction({keys:a,programId:u,data:e.from([])})},f=function(){var e=Object(a.a)(r.a.mark((function e(n,t,c){var a,i,u,l,d,b,f,m,j,p,g;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=new s.b(c,n,{preflightCommitment:"recent"}),e.next=3,s.a.fetchIdl(o,u);case 3:return l=e.sent,d=new s.a(l,o,u),b={id:t,connection:c,program:d},e.next=8,d.account.candyMachine.fetch(t);case 8:return f=e.sent,m=f.data.itemsAvailable.toNumber(),j=null===(a=f.itemsRedeemed)||void 0===a?void 0:a.toNumber(),p=m-j,g=null===(i=f.data.goLiveDate)||void 0===i?void 0:i.toNumber(),g=new Date(1e3*g),e.abrupt("return",{candyMachine:b,itemsAvailable:m,itemsRedeemed:j,itemsRemaining:p,goLiveDate:g});case 15:case"end":return e.stop()}}),e)})));return function(n,t,c){return e.apply(this,arguments)}}(),m=function(){var n=Object(a.a)(r.a.mark((function n(t){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.d.PublicKey.findProgramAddress([e.from("metadata"),l.toBuffer(),t.toBuffer(),e.from("edition")],l);case 2:return n.abrupt("return",n.sent[0]);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),j=function(){var n=Object(a.a)(r.a.mark((function n(t){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.d.PublicKey.findProgramAddress([e.from("metadata"),l.toBuffer(),t.toBuffer()],l);case 2:return n.abrupt("return",n.sent[0]);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var e=Object(a.a)(r.a.mark((function e(n,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.d.PublicKey.findProgramAddress([n.toBuffer(),i.b.toBuffer(),t.toBuffer()],u);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),g=function(){var e=Object(a.a)(r.a.mark((function e(n,t,c,a){var o,u,d,f,g,v,O;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.d.Keypair.generate(),e.next=3,p(c,o.publicKey);case 3:return u=e.sent,d=n.connection,f=n.program,e.next=7,j(o.publicKey);case 7:return g=e.sent,e.next=10,m(o.publicKey);case 10:return v=e.sent,e.next=13,d.getMinimumBalanceForRentExemption(i.a.span);case 13:return O=e.sent,e.next=16,f.rpc.mintNft({accounts:{config:t,candyMachine:n.id,payer:c,wallet:a,mint:o.publicKey,metadata:g,masterEdition:v,mintAuthority:c,updateAuthority:c,tokenMetadataProgram:l,tokenProgram:i.b,systemProgram:s.d.SystemProgram.programId,rent:s.d.SYSVAR_RENT_PUBKEY,clock:s.d.SYSVAR_CLOCK_PUBKEY},signers:[o],instructions:[s.d.SystemProgram.createAccount({fromPubkey:c,newAccountPubkey:o.publicKey,space:i.a.span,lamports:O,programId:i.b}),i.c.createInitMintInstruction(i.b,o.publicKey,0,c,c),b(u,c,c,o.publicKey),i.c.createMintToInstruction(i.b,o.publicKey,u,c,[],1)]});case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})));return function(n,t,c,r){return e.apply(this,arguments)}}(),v=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"".concat(e.slice(0,n),"...").concat(e.slice(-n))},O=function(e){return new Promise((function(n){return setTimeout(n,e)}))}}).call(this,t(11).Buffer)},513:function(e,n,t){},514:function(e,n,t){},517:function(e,n){},519:function(e,n){},526:function(e,n){},541:function(e,n){},542:function(e,n){},580:function(e,n){},581:function(e,n){},582:function(e,n){},589:function(e,n){},590:function(e,n){},591:function(e,n){},592:function(e,n,t){},593:function(e,n,t){},657:function(e,n){},659:function(e,n){},673:function(e,n){},677:function(e,n){},679:function(e,n){},689:function(e,n){},691:function(e,n){},722:function(e,n){},724:function(e,n){},731:function(e,n){},732:function(e,n){},757:function(e,n){},764:function(e,n,t){"use strict";t.r(n);var c,r,a,s,i=t(1),o=t.n(i),u=t(32),l=t.n(u),d=(t(513),t(514),t(15)),b=t(2),f=t.n(b),m=t(5),j=t(22),p=t(174),g=t(175),v=t(482),O=t(789),x=t(790),h=t(49),y=t(101),w=t(210),N=t(150),k=(t(592),t(788)),S=t(795),M=t(794),P=t(791),T=t(490),K=t.n(T),A=t(489),R=t.n(A),E=t(491),I=t.n(E),L=t(492),W=t.n(L),C=t(488),B=t.n(C),D=(t(593),t(16)),F=function(){return Object(D.jsx)("div",{className:"container"})},U=t(796),_=Object(g.a)(w.WalletDialogButton)(c||(c=Object(p.a)([""]))),Y=g.a.span(r||(r=Object(p.a)([""]))),q=g.a.div(a||(a=Object(p.a)([""]))),J=Object(g.a)(O.a)(s||(s=Object(p.a)([""]))),G=function(e){e.days;var n=e.hours,t=e.minutes,c=e.seconds;e.completed;return Object(D.jsxs)(Y,{children:[n," hours, ",t," minutes, ",c," seconds"]})},V=function(e){var n,t=Object(i.useState)(),c=Object(j.a)(t,2),r=c[0],a=c[1],s=Object(i.useState)(0),o=Object(j.a)(s,2),u=o[0],l=o[1],b=Object(i.useState)(!1),p=Object(j.a)(b,2),g=p[0],O=p[1],w=Object(i.useState)(!1),T=Object(j.a)(w,2),A=T[0],E=T[1],L=Object(i.useState)(!1),C=Object(j.a)(L,2),Y=C[0],V=C[1],z=Object(i.useState)(1),H=Object(j.a)(z,2),Z=H[0],Q=H[1],X=Object(i.useState)({open:!1,message:"",severity:void 0}),$=Object(j.a)(X,2),ee=$[0],ne=$[1],te=Object(i.useState)(new Date(e.startDate)),ce=Object(j.a)(te,2),re=ce[0],ae=ce[1],se=Object(y.useWallet)(),ie=Object(i.useState)(),oe=Object(j.a)(ie,2),ue=oe[0],le=oe[1],de=function(){var n=Object(m.a)(f.a.mark((function n(){var t,c,r,s,i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=0;case 1:if(!(t<Z)){n.next=33;break}if(n.prev=2,V(!0),!(se.connected&&(null===ue||void 0===ue?void 0:ue.program)&&se.publicKey)){n.next=12;break}return n.next=7,Object(N.c)(ue,e.config,se.publicKey,e.treasury);case 7:return c=n.sent,n.next=10,Object(N.a)(c,e.txTimeout,e.connection,"singleGossip",!1);case 10:(null===(r=n.sent)||void 0===r?void 0:r.err)?ne({open:!0,message:"Error",subMessage:"Minting failed!! Please try again.",severity:"error"}):ne({open:!0,message:"Congratulations, Successfully Minted.",subMessage:'If you want to mint one more, press "MINT" again.',severity:"success"});case 12:n.next=20;break;case 14:n.prev=14,n.t0=n.catch(2),"Error",s=n.t0.msg||"Minting failed!! Please try again.",n.t0.msg?311===n.t0.code?(s="SOLD OUT!",E(!0)):312===n.t0.code&&(s="Minting period hasn't started yet."):n.t0.message.indexOf("0x138")||(n.t0.message.indexOf("0x137")?s="SOLD OUT!":n.t0.message.indexOf("0x135")&&(s="Insufficient funds to mint!! Please fund your wallet.")),ne({open:!0,message:"Error",subMessage:s,severity:"error"});case 20:if(n.prev=20,!(null===se||void 0===se?void 0:se.publicKey)){n.next=28;break}return n.next=24,e.connection.getBalance(null===se||void 0===se?void 0:se.publicKey);case 24:return i=n.sent,a(i/h.LAMPORTS_PER_SOL),n.next=28,be();case 28:return V(!1),n.finish(20);case 30:t++,n.next=1;break;case 33:case"end":return n.stop()}}),n,null,[[2,14,20,30]])})));return function(){return n.apply(this,arguments)}}();Object(i.useEffect)((function(){Object(m.a)(f.a.mark((function n(){var t;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(null===se||void 0===se?void 0:se.publicKey)){n.next=7;break}return n.next=3,e.connection.getBalance(se.publicKey);case 3:return t=n.sent,a(t/h.LAMPORTS_PER_SOL),n.next=7,be();case 7:case"end":return n.stop()}}),n)})))()}),[se,e.connection]),Object(i.useEffect)((function(){Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setInterval(Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be();case 2:case"end":return e.stop()}}),e)}))),2e4);case 1:case"end":return e.stop()}}),e)})))()})),Object(i.useEffect)((function(){Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A&&ne({open:!0,message:"SOLD OUT",subMessage:"Thanks for minting from public sale.",severity:"success"});case 1:case"end":return e.stop()}}),e)})))()}),[A]),Object(i.useEffect)((function(){Object(m.a)(f.a.mark((function n(){var t,c,r,a,s;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(se&&se.publicKey&&se.signAllTransactions&&se.signTransaction){n.next=2;break}return n.abrupt("return");case 2:return t={publicKey:se.publicKey,signAllTransactions:se.signAllTransactions,signTransaction:se.signTransaction},n.next=5,Object(N.b)(t,e.candyMachineId,e.connection);case 5:c=n.sent,r=c.candyMachine,a=c.goLiveDate,s=c.itemsRemaining,E(0===s),ae(a),le(r);case 12:case"end":return n.stop()}}),n)})))()}),[se,e.candyMachineId,e.connection]);var be=function(){var n=Object(m.a)(f.a.mark((function n(){var t,c,r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={publicKey:se.publicKey,signAllTransactions:se.signAllTransactions,signTransaction:se.signTransaction},n.next=3,Object(N.b)(t,e.candyMachineId,e.connection);case 3:c=n.sent,r=c.itemsRemaining,l(10-r),E(0===r);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(D.jsxs)("div",{className:"page-container",children:[Object(D.jsx)("div",{className:"page-bg"}),Object(D.jsx)("section",{className:"page-section",children:Object(D.jsx)("div",{className:"section-body",children:Object(D.jsx)("div",{className:"section-content",children:Object(D.jsxs)("div",{className:"flex-column",children:[Object(D.jsx)("span",{className:["mint-section-title title-center",se.connected?"wallet-connected-title":""].join(" "),children:"PIXEL TURTLE's NFTs MINTING"}),Object(D.jsx)("div",{className:"mint-row-center",children:se.connected&&Object(D.jsxs)("span",{className:"wallet-address",children:["Wallet Address: ",Object(N.d)((null===(n=se.publicKey)||void 0===n?void 0:n.toBase58())||"")]})}),Object(D.jsxs)("div",{className:"mint-desc-grid",children:[Object(D.jsxs)("div",{className:"mint-desc-container",children:[Object(D.jsx)("span",{className:"mint-desc-heading",children:"Wallet Balance"}),se.connected?Object(D.jsx)("span",{className:"mint-desc-value",children:(r||0).toLocaleString()}):Object(D.jsx)("span",{className:"mint-desc-value",children:"0.00 SOL"})]}),Object(D.jsxs)("div",{className:"mint-desc-container",children:[Object(D.jsx)("span",{className:"mint-desc-heading",children:"NFT Price"}),Object(D.jsx)("span",{className:"mint-desc-value",children:"1.00 SOL"})]}),Object(D.jsxs)("div",{className:"mint-desc-container",children:[Object(D.jsx)("span",{className:"mint-desc-heading",children:"NFTs Minted"}),se.connected?Object(D.jsx)("span",{className:"mint-desc-value",children:u}):Object(D.jsx)("span",{className:"mint-desc-value",children:"0"})]})]}),Object(D.jsx)("div",{className:"mint-row-center",children:!se.connected&&Object(D.jsx)(_,{className:"connect-wallet-btn",children:"Connect Wallet"})}),Object(D.jsx)(q,{className:"mintContainer",children:se.connected&&Object(D.jsx)("div",{className:"flex-column",children:Object(D.jsxs)("div",{className:"mint-slider-container",children:[Object(D.jsx)("div",{className:"mint-slider",children:Object(D.jsx)(U.a,{className:"slider-css",defaultValue:0,step:25,min:1,marks:[{value:0,label:"1"},{value:25,label:"2"},{value:50,label:"3"},{value:75,label:"4"},{value:100,label:"5"}],valueLabelDisplay:"on",onChange:function(e,n){var t=0===Math.floor(n/25)?1:Math.floor(n/25)+1;Q(t)},valueLabelFormat:function(e){return Object(D.jsx)("div",{children:0===Math.floor(e/25)?1:Math.floor(e/25)+1})}})}),Object(D.jsx)(J,{className:"mint-btn",disabled:A||Y||!g,onClick:de,variant:"contained",children:A?"Sold Out":g?Y?Object(D.jsx)(x.a,{}):Object(D.jsxs)("span",{children:[" ",Z," Mint"]}):Object(D.jsx)(v.a,{date:re,onMount:function(e){return e.completed&&O(!0)},onComplete:function(){return O(!0)},renderer:G})})]})})})]})})})}),Object(D.jsx)(F,{}),Object(D.jsxs)(P.a,{className:"messageContainer","aria-labelledby":"confirmation-dialog-title",open:ee.open,onClose:function(){return ne(Object(d.a)(Object(d.a)({},ee),{},{open:!1}))},children:[Object(D.jsx)(S.a,{className:"dialogHeading",id:"confirmation-dialog-title",children:Object(D.jsxs)("div",{className:"flexRowBetween",children:[Object(D.jsx)("span",{className:"dialogTitle"}),Object(D.jsx)(k.a,{onClick:function(){return ne(Object(d.a)(Object(d.a)({},ee),{},{open:!1}))},children:Object(D.jsx)(B.a,{className:"dialogCloseIcon"})})]})}),Object(D.jsx)(M.a,{children:Object(D.jsxs)("div",{className:"flexColumnCenter",children:["error"===ee.severity&&Object(D.jsx)(R.a,{className:"errorIcon"}),"success"===ee.severity&&Object(D.jsx)(K.a,{className:"successIcon"}),"warning"===ee.severity&&Object(D.jsx)(I.a,{className:"warningIcon"}),"info"===ee.severity&&Object(D.jsx)(W.a,{className:"infoIcon"}),Object(D.jsx)("span",{className:["default-class","error"===ee.severity?"errorMsg":"","success"===ee.severity?"successMsg":"","warning"===ee.severity?"warningMsg":"","info"===ee.severity?"infoMsg":""].join(" "),children:ee.message}),Object(D.jsx)("span",{className:["subMessage","error"===ee.severity?"errorMsg":"","success"===ee.severity?"successMsg":"","warning"===ee.severity?"warningMsg":"","info"===ee.severity?"infoMsg":""].join(" "),children:ee.subMessage})]})})]})]})},z=t(44),H=t(227),Z=new z.d.PublicKey("57w8okkKBnGAfbmDBNAbJukvgrLzg3csRKpMhWjR5RZw"),Q=new z.d.PublicKey("9Jv2iqUud1Qvo8CCmbY45A8AhB1m6iEdTWvmLP4wY1kq"),X=new z.d.PublicKey("EdWfNp5U4JcEgZhPazu2qFFMULhWGdxYdJAHaCs6iDCF"),$=new z.d.Connection("https://explorer-api.devnet.solana.com",{wsEndpoint:"wss://winter-autumn-sea.solana-mainnet.quiknode.pro/ebdb32e07797d3bf68556b0b63788f9af5374121/"}),ee=parseInt("1633237200",10),ne=function(){var e=Object(i.useMemo)((function(){return Object(h.clusterApiUrl)("devnet")}),[]),n=Object(i.useMemo)((function(){return[Object(H.getPhantomWallet)(),Object(H.getSolflareWallet)(),Object(H.getSolletWallet)()]}),[]);return Object(D.jsx)(y.ConnectionProvider,{endpoint:e,children:Object(D.jsx)(y.WalletProvider,{wallets:n,autoConnect:!0,children:Object(D.jsx)(w.WalletDialogProvider,{children:Object(D.jsx)(V,{candyMachineId:X,config:Q,connection:$,startDate:ee,treasury:Z,txTimeout:3e4})})})})},te=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,799)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,s=n.getTTFB;t(e),c(e),r(e),a(e),s(e)}))};l.a.render(Object(D.jsx)(o.a.StrictMode,{children:Object(D.jsx)(ne,{})}),document.getElementById("root")),te()}},[[764,1,2]]]);
//# sourceMappingURL=main.01d4a7ac.chunk.js.map